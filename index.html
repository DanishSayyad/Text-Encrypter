<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Secret Encrypter</title>
    <link rel="icon" type="image/svg+xml" href="assets/icon-small.svg">
    <link rel="stylesheet" href="style/main.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-brand">
                <svg width="40" height="40" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="30" cy="30" r="28" stroke="#00ff88" stroke-width="3"/>
                    <path d="M30 15 L30 25 M30 35 L30 45 M20 30 L25 30 M35 30 L40 30" stroke="#00ff88" stroke-width="3" stroke-linecap="round"/>
                    <circle cx="30" cy="30" r="5" fill="#00ff88"/>
                </svg>
                <span>Secret Encrypter</span>
            </div>
            <button class="btn-logout" id="logoutBtn">Logout</button>
        </div>
    </nav>

    <div class="container">
        <div class="welcome-section">
            <h1>Welcome Back!</h1>
            <p class="subtitle">Your secure encryption and decryption tool</p>
        </div>

        <div class="mode-toggle">
            <button class="toggle-btn active" data-mode="encrypt">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                Encrypt
            </button>
            <button class="toggle-btn" data-mode="decrypt">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 9.9-1"></path>
                </svg>
                Decrypt
            </button>
            <button class="toggle-btn" data-mode="texts">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                Texts
            </button>
        </div>

        <div class="main-content">
            <div class="card" id="operationCard">
                <div class="card-header">
                    <h2 id="operationTitle">Encrypt Text</h2>
                    <button class="btn-wipe" id="wipeAllBtn" style="display: none;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            <line x1="10" y1="11" x2="10" y2="17"></line>
                            <line x1="14" y1="11" x2="14" y2="17"></line>
                        </svg>
                        Wipe All!
                    </button>
                </div>
                <div class="card-body">
                    <div class="input-group" id="keyInputGroup">
                        <label for="encryptionKey">Encryption Key</label>
                        <input type="password" id="encryptionKey" placeholder="Enter your encryption key" autocomplete="off">
                        <button type="button" class="toggle-visibility" id="toggleKeyVisibility">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                    <textarea id="operationInput" placeholder="Enter text to encrypt..." rows="6"></textarea>
                    <button class="btn-primary" id="operationBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                        Encrypt
                    </button>
                    <div class="output" id="operationOutput"></div>

                    <!-- Texts storage view -->
                    <div id="textsView" style="display: none;">
                        <!-- Text viewer -->
                        <div id="textViewer" class="text-viewer" style="display: none;">
                            <div class="viewer-header">
                                <h3>Viewing Encrypted Text</h3>
                                <button class="btn-close-viewer" id="closeViewer">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                    Close
                                </button>
                            </div>
                            <div class="viewer-body">
                                <code id="viewedText"></code>
                            </div>
                            <div class="viewer-footer">
                                <button class="btn-copy-viewer" id="copyViewerText">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                    Copy
                                </button>
                            </div>
                        </div>

                        <!-- Stored texts list -->
                        <div class="stored-texts-container" id="storedTextsContainer">
                            <p class="no-texts-message">No encrypted texts stored yet</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-section">
            <div class="info-card">
                <h3>Secure Storage</h3>
                <p>Your password is hashed and stored securely in the browser</p>
            </div>
            <div class="info-card">
                <h3>Fast & Easy</h3>
                <p>Encrypt and decrypt text with just a few clicks</p>
            </div>
            <div class="info-card">
                <h3>Privacy First</h3>
                <p>Everything happens locally in your browser</p>
            </div>
        </div>

        <footer class="footer">
            <p>Developed by <a href="https://github.com/DanishSayyad" target="_blank" class="developer-link">Danish Sayyad</a></p>
            <p><a href="pages/about.html" class="about-link">About</a></p>
        </footer>
    </div>

    <script src="script/auth.js"></script>
    <script src="script/app.js"></script>
</body>
</html>
